<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Interactive CliftonStrengths — Mohammad Mujahid</title>
<script src="https://d3js.org/d3.v7.min.js"></script>

<style>
:root{
  --bg:#071026; --card:rgba(255,255,255,0.04); --muted:#9fb2d8;
  --radius:12px; --shadow:0 12px 30px rgba(2,8,23,0.5);
  --gap:12px; --font-sans:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}
*{box-sizing:border-box;}
body{
  margin:0; font-family:var(--font-sans); background:linear-gradient(180deg,#051022,var(--bg));
  color:#eaf2ff; padding:24px; -webkit-font-smoothing:antialiased;
}
.container{max-width:1100px; margin:0 auto;}
header.title{display:flex; flex-direction:column; margin-bottom:16px;}
header.title h1{margin:0; font-size:20px;}
header.title p{margin:0; font-size:13px; color:var(--muted);}
.controls{display:flex; flex-wrap:wrap; gap:8px; margin-bottom:16px; align-items:center;}
.controls input[type="search"]{padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02);}
.btn{padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.03); color:#eaf2ff; cursor:pointer;}
.grid{display:grid; grid-template-columns:repeat(4,1fr); gap:var(--gap);}
@media (max-width:900px){.grid{grid-template-columns:1fr;}}
.column{background:var(--card); padding:12px; border-radius:var(--radius); box-shadow:var(--shadow); min-height:120px; position:relative;}
.column h3{margin:0 0 10px 0; font-size:13px; letter-spacing:0.5px;}
.column .count{position:absolute; top:12px; right:12px; font-size:12px; padding:4px 6px; background:rgba(255,255,255,0.03); border-radius:8px; color:var(--muted); border:1px solid rgba(255,255,255,0.03);}
.tile{display:flex; align-items:center; gap:8px; background:rgba(255,255,255,0.02); border-radius:10px; padding:6px; margin-bottom:6px; cursor:pointer; border-left:5px solid transparent; transition:0.12s;}
.tile:hover{transform:translateY(-4px); background:rgba(255,255,255,0.035); box-shadow:0 6px 20px rgba(2,8,23,0.5);}
.rank{min-width:30px; height:30px; display:flex; align-items:center; justify-content:center; border-radius:6px; font-weight:700; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04);}
.name{font-weight:600; font-size:14px;}
.sub{font-size:12px; color:var(--muted);}
.tooltip{position:fixed; pointer-events:none; background:rgba(10,16,28,0.95); color:#eaf2ff; padding:8px 12px; border-radius:10px; font-size:13px; display:none; z-index:99999; border:1px solid rgba(255,255,255,0.04);}
#details{margin-top:16px; background:rgba(255,255,255,0.02); padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); box-shadow:var(--shadow);}
.stackbar-wrap{display:flex; gap:12px; align-items:center; margin-top:12px;}
.stack-legend{display:flex; gap:10px; font-size:13px; color:var(--muted);}
.muted{opacity:0.3;}
.bar-hover{stroke:#fff; stroke-width:2;}
</style>
</head>

<body>
<div class="container" id="app">
<header class="title">
  <h1>Mohammad Mujahid — CliftonStrengths 34 (interactive)</h1>
  <p>You lead with Relationship Building themes — grid + details built with D3.js</p>
</header>

<!-- Barcode SVG (unchanged) -->
<svg viewBox="0 0 500 60" width="500" height="60" aria-hidden="true" id="barcode">
  <!-- LEFT 5 BARS -->
  <g transform="translate(0,10)">
    <rect x="0" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
    <rect x="12" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
    <rect x="24" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
    <rect x="36" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
    <rect x="48" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
  </g>
  <!-- TOP & BOTTOM LINES -->
  <line x1="0" y1="5" x2="56" y2="5" stroke="#bfbfbf" stroke-width="6" stroke-linecap="round"/>
  <line x1="0" y1="55" x2="56" y2="55" stroke="#bfbfbf" stroke-width="6" stroke-linecap="round"/>
  <!-- DIAGONALS AFTER 5 BARS -->
  <line x1="56" y1="5" x2="116" y2="55" stroke="#bfbfbf" stroke-width="6" stroke-linecap="round"/>
  <line x1="56" y1="55" x2="116" y2="5" stroke="#bfbfbf" stroke-width="6" stroke-linecap="round"/>
  <!-- RIGHT 29 BARS -->
  <g transform="translate(116,10)">
    <g>
      <rect x="0"   y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="12"  y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="24"  y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="36"  y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="48"  y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="60"  y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="72"  y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="84"  y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="96"  y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="108" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="120" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="132" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="144" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="156" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="168" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="180" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="192" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="204" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="216" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="228" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="240" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="252" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="264" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="276" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="288" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="300" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
      <rect x="312" y="0" width="8" height="40" fill="#1f6fae" rx="2"/>
      <rect x="324" y="0" width="8" height="40" fill="#6f2c8f" rx="2"/>
      <rect x="336" y="0" width="8" height="40" fill="#1e944b" rx="2"/>
      <rect x="348" y="0" width="8" height="40" fill="#f39c12" rx="2"/>
    </g>
  </g>
</svg>

<div class="controls">
  <input type="search" id="search" placeholder="Search strength name or rank">
  <button class="btn" id="top5">Highlight Top 5</button>
  <button class="btn" id="exportCSV">Export CSV</button>
  <div class="stack-legend" id="stackLegend"></div>
</div>

<div class="grid" id="grid"></div>
<div class="stackbar-wrap">
  <div style="flex:1">
    <svg id="stackbar" width="100%" height="16"></svg>
  </div>
</div>
<div id="details">
  <h2>Click any strength to see details</h2>
  <p>Tip: hover to preview description. Use Search/Highlight Top 5/Export CSV for quick actions.</p>
</div>
<div class="tooltip" id="tooltip"></div>

<script>
// ===== Data =====
const strengths = [
  {rank:1,name:"Relator",domain:"RELATIONSHIP",short:"You build close relationships.",tips:"Use with customers to develop rapport."},
  {rank:2,name:"Deliberative",domain:"EXECUTING",short:"Careful decision maker.",tips:"Evaluate exceptions before automation."},
  {rank:3,name:"Learner",domain:"STRATEGIC",short:"Love learning.",tips:"Set micro-goals for ICMAI."},
  {rank:4,name:"Intellection",domain:"STRATEGIC",short:"Deep thinker.",tips:"Use for root-cause analysis."},
  {rank:5,name:"Input",domain:"STRATEGIC",short:"Collect ideas.",tips:"Maintain reference folder for bank codes."},
  {rank:6,name:"Empathy",domain:"RELATIONSHIP",short:"Sense feelings.",tips:"Handle upset customers with care."},
  {rank:7,name:"Individualization",domain:"RELATIONSHIP",short:"See uniqueness.",tips:"Customize communication templates."},
  {rank:8,name:"Developer",domain:"RELATIONSHIP",short:"Grow potential.",tips:"Mentor new teammates gradually."},
  {rank:9,name:"Harmony",domain:"RELATIONSHIP",short:"Avoid conflict.",tips:"Focus on shared goals in disputes."},
  {rank:10,name:"Restorative",domain:"EXECUTING",short:"Love solving problems.",tips:"Perfect for exception queues."},
  {rank:11,name:"Ideation",domain:"STRATEGIC",short:"Generate ideas.",tips:"Propose automation improvements."},
  {rank:12,name:"Connectedness",domain:"RELATIONSHIP",short:"See links.",tips:"Map how payments & statements affect customers."},
  {rank:13,name:"Competition",domain:"INFLUENCING",short:"Like to win.",tips:"Set safe productivity targets."},
  {rank:14,name:"Strategic",domain:"STRATEGIC",short:"Spot patterns.",tips:"Design efficient daily workflow."},
  {rank:15,name:"Positivity",domain:"RELATIONSHIP",short:"Bring energy.",tips:"Lift team morale on night shifts."},
  {rank:16,name:"Discipline",domain:"EXECUTING",short:"Create structure.",tips:"Standardize start-of-shift checklist."},
  {rank:17,name:"Futuristic",domain:"STRATEGIC",short:"Imagine futures.",tips:"Sketch improvements roadmap."},
  {rank:18,name:"Significance",domain:"INFLUENCING",short:"Make impact.",tips:"Volunteer for small projects."},
  {rank:19,name:"Maximizer",domain:"INFLUENCING",short:"Turn good into great.",tips:"Pair colleagues for complex exceptions."},
  {rank:20,name:"Achiever",domain:"EXECUTING",short:"Stamina & finish tasks.",tips:"Use daily checklist for satisfaction."},
  {rank:21,name:"Responsibility",domain:"EXECUTING",short:"Reliable.",tips:"Own weekly folder cleanup tasks."},
  {rank:22,name:"Analytical",domain:"STRATEGIC",short:"Examine data.",tips:"Review chargeback patterns."},
  {rank:23,name:"Focus",domain:"EXECUTING",short:"Prioritize.",tips:"Block 45-min deep exception handling."},
  {rank:24,name:"Self-Assurance",domain:"INFLUENCING",short:"Confident.",tips:"Take ownership of errors without blame."},
  {rank:25,name:"Communication",domain:"INFLUENCING",short:"Express ideas.",tips:"Send clear emails for remittance issues."},
  {rank:26,name:"Adaptability",domain:"RELATIONSHIP",short:"Go with flow.",tips:"Adjust to bank delays gracefully."},
  {rank:27,name:"Woo",domain:"INFLUENCING",short:"Win others over.",tips:"Follow up on unpaid invoices."},
  {rank:28,name:"Command",domain:"INFLUENCING",short:"Lead firmly.",tips:"Escalate high-value disputes."},
  {rank:29,name:"Includer",domain:"RELATIONSHIP",short:"Include everyone.",tips:"Loop teammates for large reconciliations."},
  {rank:30,name:"Ideation",domain:"STRATEGIC",short:"Creative ideas.",tips:"Optimize exception workflows."},
  {rank:31,name:"Belief",domain:"EXECUTING",short:"Core values.",tips:"Keep SOP adherence tight."},
  {rank:32,name:"Activator",domain:"INFLUENCING",short:"Make things happen.",tips:"Start small improvement tasks."},
  {rank:33,name:"Restorative",domain:"EXECUTING",short:"Fix problems.",tips:"Review unresolved ACH cases."},
  {rank:34,name:"Harmony",domain:"RELATIONSHIP",short:"Peace maker.",tips:"Mediation in disputes."}
];

// ===== Map colors to domain (for stackbar & highlighting) =====
const domainColor = {
  "RELATIONSHIP":"#1e944b",
  "EXECUTING":"#f39c12",
  "STRATEGIC":"#1f6fae",
  "INFLUENCING":"#6f2c8f"
};

// ===== Grid rendering =====
const grid = d3.select("#grid");
const tooltip = d3.select("#tooltip");
const details = d3.select("#details");

grid.selectAll(".column").data(strengths).enter()
  .append("div").attr("class","column")
  .append("div").attr("class","tile")
  .style("border-left", d => `5px solid ${domainColor[d.domain]}`)
  .on("mouseover", (event,d)=>{
    tooltip.style("display","block")
      .html(`<strong>${d.name}</strong><br>${d.short}`);
  })
  .on("mousemove", (event)=>tooltip.style("top",(event.pageY+12)+"px").style("left",(event.pageX+12)+"px"))
  .on("mouseout", ()=>tooltip.style("display","none"))
  .on("click",(event,d)=>{
    details.html(`<h2>${d.name} (Rank ${d.rank})</h2><p>${d.tips}</p>`);
    highlightBarcode(d.rank);
  })
  .append("div").attr("class","name").text(d => d.name);

// ===== Sync Barcode =====
const barcodeSVG = d3.select("#barcode");
const allBars = barcodeSVG.selectAll("rect").nodes();

function highlightBarcode(rank){
  allBars.forEach((bar,i)=>{
    bar.style.stroke = null;
    bar.style.strokeWidth = null;
    if(i===rank-1){bar.style.stroke="#fff"; bar.style.strokeWidth="2";}
  });
}

// ===== Stackbar =====
const stackSVG = d3.select("#stackbar");
const domainCounts = d3.rollup(strengths,d=>d.length,d=>d.domain);
const total = strengths.length;
let x0 = 0;
domainCounts.forEach((count,domain)=>{
  const w = count/total*100 + "%";
  stackSVG.append("rect")
    .attr("x", x0).attr("y",0).attr("width", w).attr("height",16)
    .attr("fill", domainColor[domain]);
  x0 = `calc(${x0} + ${w})`;
});
</script>
</body>
</html>
